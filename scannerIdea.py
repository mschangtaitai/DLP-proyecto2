from module import *
from afnSimulator2 import *
combinedAF = AF(['0', '1', '2', '3', '4', '5'],['d', 'a', '0', 'e', '1', 'h', 'i', 'b', 'g', 'c', 'f'],[['0', 'ε', '1'],['1', 'a', '2'],['1', 'b', '2'],['1', 'c', '2'],['1', 'd', '2'],['1', 'e', '2'],['1', 'f', '2'],['1', 'g', '2'],['1', 'h', '2'],['1', 'i', '3'],['1', '0', '1'],['1', '1', '1'],['2', 'a', '3'],['2', 'b', '3'],['2', 'c', '3'],['2', 'd', '3'],['2', 'e', '3'],['2', 'f', '3'],['2', 'g', '3'],['2', 'h', '3'],['2', 'i', '2'],['2', '0', '3'],['2', '1', '2'],['3', 'a', '3'],['3', 'b', '3'],['3', 'c', '3'],['3', 'd', '3'],['3', 'e', '3'],['3', 'f', '3'],['3', 'g', '3'],['3', 'h', '3'],['3', 'i', '2'],['3', '0', '3'],['3', '1', '2'],['1', 'a', '1'],['1', 'b', '1'],['1', 'c', '1'],['1', 'd', '1'],['1', 'e', '1'],['1', 'f', '1'],['1', 'g', '1'],['1', 'h', '1'],['1', 'i', '1'],['1', 'a', '2'],['1', 'b', '2'],['1', 'c', '2'],['1', 'd', '2'],['1', 'e', '2'],['1', 'f', '2'],['1', 'g', '2'],['1', 'h', '2'],['1', 'i', '3'],['1', '0', '1'],['1', '1', '1'],['2', 'a', '3'],['2', 'b', '3'],['2', 'c', '3'],['2', 'd', '3'],['2', 'e', '3'],['2', 'f', '3'],['2', 'g', '3'],['2', 'h', '3'],['2', 'i', '2'],['2', '0', '3'],['2', '1', '2'],['3', 'a', '3'],['3', 'b', '3'],['3', 'c', '3'],['3', 'd', '3'],['3', 'e', '3'],['3', 'f', '3'],['3', 'g', '3'],['3', 'h', '3'],['3', 'i', '2'],['3', '0', '3'],['3', '1', '2'],['1', 'a', '1'],['1', 'b', '1'],['1', 'c', '1'],['1', 'd', '1'],['1', 'e', '1'],['1', 'f', '1'],['1', 'g', '1'],['1', 'h', '1'],['1', 'i', '1'],['1', 'a', '2'],['1', 'b', '2'],['1', 'c', '2'],['1', 'd', '2'],['1', 'e', '2'],['1', 'f', '2'],['1', 'g', '2'],['1', 'h', '2'],['1', 'i', '3'],['1', '0', '1'],['1', '1', '1'],['2', 'a', '3'],['2', 'b', '3'],['2', 'c', '3'],['2', 'd', '3'],['2', 'e', '3'],['2', 'f', '3'],['2', 'g', '3'],['2', 'h', '3'],['2', 'i', '2'],['2', '0', '3'],['2', '1', '2'],['3', 'a', '3'],['3', 'b', '3'],['3', 'c', '3'],['3', 'd', '3'],['3', 'e', '3'],['3', 'f', '3'],['3', 'g', '3'],['3', 'h', '3'],['3', 'i', '2'],['3', '0', '3'],['3', '1', '2'],['1', 'a', '1'],['1', 'b', '1'],['1', 'c', '1'],['1', 'd', '1'],['1', 'e', '1'],['1', 'f', '1'],['1', 'g', '1'],['1', 'h', '1'],['1', 'i', '1'],['0', 'ε', '4'],['4', '0', '5'],['4', '1', '5'],['5', '0', '5'],['5', '1', '5'],['4', '0', '5'],['4', '1', '5'],['5', '0', '5'],['5', '1', '5']],['0'],['2', '3', '5'])
tokenList = [['0', '2'],['0', '3'],['1', '5']]
tokens = [['id', '(a|b|c|d|e|f|g|h|i){(a|b|c|d|e|f|g|h|i)|(0|1)}'],['numero', '(0|1){(0|1)}']]
keys = [['if', 'if'],['while', 'while']]
keyValues = []
for key in keys:
    keyValues.append(key[1])

testFileName = input("Ingrese el nombre del archivo: ")
file = open(testFileName, "r")
lines = file.readlines()

for line in lines:
    response = (afnSimulator2(combinedAF,line, keyValues))

    cont = 0
    for item in response:
        for t in tokenList:
            if (item == t[1]):
                response[cont] = tokens[int(t[0])][0]
        
        cont += 1

    print(response)
